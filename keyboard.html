<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Share your melodies!</title>
 <!-- midi.js package -->
 <script src="./MIDI.js/js/MIDI/AudioDetect.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/MIDI/LoadPlugin.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/MIDI/Plugin.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/MIDI/Player.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/MusicTheory/Synesthesia.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/Widgets/Loader.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/Window/Event.js" type="text/javascript"></script>
 <script src="./MIDI.js/js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
 <!-- script src="./MIDI.js/js/Window/DOMLoader.script.js" type="text/javascript"></script -->
 <!-- jasmid package -->
 <script src="./MIDI.js/inc/jasmid/stream.js"></script>
 <script src="./MIDI.js/inc/jasmid/midifile.js"></script>
 <script src="./MIDI.js/inc/jasmid/replayer.js"></script>
 <!-- extras -->
 <script src="./MIDI.js/inc/Base64.js" type="text/javascript"></script>
 <script src="./MIDI.js/inc/base64binary.js" type="text/javascript"></script>
 <script language="javascript" src="lz-string-1.3.3-min.js"></script>
 <script language="javascript" src="keyboard-flow.js"></script>
 <script language="javascript" src="keyboard-play.js"></script>
<link rel="stylesheet" href="keyboard-style.css"/>
 </head>
  <body>

<p>Tune in your head to ask your friends about? Want to jot a melody down for later?</p>

<p>Vurm is free to use through the magic of banner advertising.</p>

<p>Vurm works best with <a
href="https://www.google.com/intl/en/chrome/browser/">Chrome</a>'s inbuilt
music extension, but copes on Firefox, Safari, and Dolphin. IE seems to be
broken.</p>

<div id="debug">-</div>
    <span id='ceiling'></span>
    <div class="lobe player">
    <p>Press the keys below (on your screen or keyboard) to work out your tune,
    then share the results.</p>

    <table class="keyboard" onclick="pianoClick(event)">
        
        <tr class="keyboard">
            <td class="white" colspan="1">s</td>
            <td class="black" colspan="2">e</td>
            <td class="white" colspan="1">d</td>
            <td class="black" colspan="2">r</td>
            <td class="white" colspan="1">f</td>

            <td class="white" colspan="1">g</td>
            <td class="black" colspan="2">y</td>
            <td class="white" colspan="1">h</td>
            <td class="black" colspan="2">u</td>
            <td class="white" colspan="1">j</td>
            <td class="black" colspan="2">i</td>
            <td class="white" colspan="1">k</td>

            <td class="white" colspan="1">S</td>
            <td class="black" colspan="2">E</td>
            <td class="white" colspan="1">D</td>
            <td class="black" colspan="2">R</td>
            <td class="white" colspan="1">F</td>

            <td class="white" colspan="1">G</td>
            <td class="black" colspan="2">Y</td>
            <td class="white" colspan="1">H</td>
            <td class="black" colspan="2">U</td>
            <td class="white" colspan="1">J</td>
            <td class="black" colspan="2">I</td>
            <td class="white" colspan="1">K</td>
        </tr>
        <tr class="keyboard">
            <th class="white" colspan="2">s</td>
            <th class="white" colspan="3">d</td>
            <th class="whitehk" colspan="2">f</td>

            <th class="white" colspan="2">g</td>
            <th class="white" colspan="3">h</td>
            <th class="whitehk" colspan="3">j</td>
            <th class="white" colspan="2">k</td>

            <th class="white" colspan="2">S</td>
            <th class="white" colspan="3">D</td>
            <th class="whitehk" colspan="2">F</td>

            <th class="white" colspan="2">G</td>
            <th class="white" colspan="3">H</td>
            <th class="whitehk" colspan="3">J</td>
            <th class="white" colspan="2">K</td>
        </tr>
    </table>

    <p/>

    </div>

    <div class="lobe player">
    <p>Your tune is right here for you to edit; each letter represents a
    note.</p>

    <textarea
        id='tune'
        onkeypress="return playAndOrValidateEvent(event);"
        style='resize: vertical;'
        cols='30' rows='5'
        autofocus
        disabled
        onblur='this.focus(); putTuneInHash();'>


        ... loading ...


        </textarea>

    <p/>

    <span class='button'
        onclick='tune = document.getElementById("tune"); tune.value=""'
        >Clear: <tt>X</tt></span>
    <span class='button'
        onclick='MIDI.Player.stop(); onQwerChanged()'
        >Play: <tt>&gt;</tt></span>
    <span class='button'
        onclick='MIDI.Player.stop();'
        >Stop: <tt>[]</tt></span>
    
    </div>

    <div class="lobe player">
    <p>Share or bookmark this page once it plays your tune properly. These buttons might work after a refresh:

<div align="center">

    <a href="https://twitter.com/share" class="twitter-share-button" data-text="I have a tune in my head!" data-dnt="true">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <button onclick='window.open("https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(location.href), "fbshare","height=200,width=500")'>Share on Facebook</button>

<!-- Place this tag where you want the share button to render. -->
<div class="g-plus" align="center" data-action="share" data-height="24"></div>

<!-- Place this tag after the last share tag. -->
<script type="text/javascript">
  window.___gcfg = {lang: 'en-GB'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</div>
    </p>
    </div>

    <div class="lobe theory">

    </p>Space out notes by typing <tt>/</tt> slashes between them, each one
    adding an extra beat: <tt>e//g</tt> plays an <tt>e</tt> note, leaves two
    beats, then plays a <tt>g</tt> note. Use this to create both long notes and
    musical pauses - they both sound similar enough.</p>

    </div>

    <div class="lobe theory">

    </p>Squash notes together by typing one or more <tt>\</tt> backslashes.
    Each <tt>\</tt> cuts its note in half, so <tt>e\g</tt> plays a half-beat
    note or 'quaver' <tt>e</tt> followed by a normal length <tt>g</tt>, whereas
    <tt>e\\g</tt> cuts the half note in half again to play a short quarter-beat
    note or 'semiquaver' <tt>e</tt>, and then the normal length 'crotchet'
    <tt>g</tt>.</p>

    </div>

    <div class="lobe theory">

    <p>You can change the speed of the WHOLE tune by putting several <tt>/</tt>
    and <tt>\</tt> tweaks at the VERY start of your piece (before any notes).
    This sets the tune speed as if those tweaks were placed after every
    note.</p>

    </div>

    <div class="lobe theory">
    <p>Type 'return' or 'space' to make the tune field easier to follow.</p>
    </div>


    <div class="lobe theory">

    <p>Type <tt>*</tt> to start a new harmony line and <tt>*1</tt> <tt>*2</tt>
    ... <tt>*9</tt> to add more to the 1st, 2nd, ... 9th harmony line.
    </div>

    <div class="lobe theory">
    <p>Type <tt>+</tt> and <tt>-</tt> to raise or lower following notes in the
    current harmony line by an octave (during full playback only).
    </div>

    <div class="lobe theory">
    <p><tt>e&gt;g</tt> and <tt>g&lt;e</tt> make <tt>e</tt> longer (dotted)
    and halve <tt>g</tt>. Doubling them like <tt>e&gt;&gt;g</tt> doubles the
    effect. Handy for jigs and mediaeval music!

    </div>

    <div class="lobe advanced">

    <p>If you're copying from sheet music, these <a
    href="Treble_clef.svg">treble</a> and <a href="Bass_clef.svg">bass</a> clef
    files might be helpful:</p>
    <table align="center"><tr>
        <td width="50%"><a href="Treble_clef.svg"><img class="stave" src="Treble_clef.svg" width="80%"
        border='2'></a></td>
        <td widht="50%"><a href="Bass_clef.svg"><img class="stave" src="Bass_clef.svg" width="80%"
        border='2'></a></td>
        </tr></table>
    <p>Remember to move <b>up</b> to a black note if a line is marked
    <tt>#</tt> and <b>down</b> if it's marked <tt>b</tt>.</p>
    </div>

    <div class="lobe advanced">

    <p>If you need a 'dotted' note on its own, use <tt>e\/</tt> which is half a
    beat plus a beat - the length of three half beats.

    </div>


    <div class="lobe advanced">
    <p>If you need a double dot, then <tt>e\/\/</tt> is seven quarter beats -
    a 'dotted' note (<tt>e\/</tt>) cut in half by the second <tt>\</tt> to make
    three quarter beats (a dotted quaver), and the final <tt>/</tt> adding one
    beat - which is four additional quarter beats.</p>

    </div>

    <div class="lobe advanced">
    <p>If you need a dotted quaver with a semiquaver then
    <tt>e&gt;\g\</tt> or <tt>e&lt;\g\</tt> is probably clearer than
    <tt>e\/\g\\</tt>. It's certainly clearer to put <tt>e&gt;&gt;\g\</tt> or
    <tt>e&lt;&lt;\g\</tt>for the double dotted quaver and demisemiquaver,
    rather than <tt>e\/\/\g\\\</tt> or <tt>e\\\g\/\/\</tt>!</p>

    </div>



    <div class="lobe boring">

    <p>You need no account with us, and we make no claim on your intellectual
    property.</p>

    </div>

    <div class="lobe boring">

    <p>This page's music format is designed for simplicity and is not intended
    to compete with ABC format! We have started work on a full ABC editor.</p>

    </div>


    <div class="lobe boring">

    <p>Vurm derives from 'Ohrwurm' - a German word referring to a tune that
    catches your ear and plays endlessly in your mind. In English, we say
    'earworm'. Still very annoying!</p>

    </div>

    <div class="lobe boring">

    <p>The Vurm site is copyright 2014 Tim Baverstock, all rights reserved for
    now.</p>

    <p>MIDI.js is used under its <a href="MIDI.js/LICENSE.txt">MIT license</a>
     and is hereby published.</p>

    </div>
<script language="javascript">

    window.setInterval(reflow, 3000);
    window.onresize = function(){window.setTimeout(tick, 500)};
    window.setTimeout(tick, 200);
    t = document.getElementById('tune');
    t.onmousemove = function(e) { reflow(); }

</script>
<script type="text/javascript">

window.onload = function () {
	MIDI.loadPlugin({
		soundfontUrl: "./MIDI.js/soundfont/",
		instruments: [ "acoustic_grand_piano" ],
		callback: function() {
            onceLoaded()
		}
	});
};

</script>
</body>
</html>
